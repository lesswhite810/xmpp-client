## 重构计划

**架构**：
- `XmppStreamDecoder`：负责解析 XML 字节流，输出解析后的实体对象（如 `StreamFeatures`, `Iq`, `Message` 等）
- `XmppNettyHandler`：接收实体对象，处理 XMPP 协议状态机和业务逻辑

**修改内容**：

### 1. 创建 `XmppStreamDecoder.java`
- 继承 `ByteToMessageDecoder`
- 维护持久的 `XMLEventReader` 和字节缓冲区
- 逐事件解析 XML，保持命名空间上下文
- 解析到完整 Stanza 时，构建实体对象并输出到 `out` 列表

### 2. 修改 `XmppTcpConnection.java`
- 将 `XmppFramingDecoder` 替换为 `XmppStreamDecoder`

### 3. 修改 `XmppNettyHandler.java`
- 更新 `resetFraming()` 方法

### 4. 删除 `XmppFramingDecoder.java` 和 `StanzaStreamParser.java`
- 不再需要手动分割 XML 片段和单独解析